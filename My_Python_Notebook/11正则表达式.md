# 正则表达式

## 简介

字符串是编程时涉及到的最多的一种数据结构，对字符串进行操作的需求几乎无处不在。比如判断一个字符串是否是合法的Email地址，虽然可以编程提取 `@` 前后的子串，再分别判断是否是单词和域名，但这样做不但麻烦，而且代码难以复用。

正则表达式是一种用来**匹配字符串的强大工具**。它的设计思想是**用一种描述性的语言来给字符串定义一个规则，凡是符合规则的字符串，我们就认为它“匹配”了**，否则，该字符串就是不合法的。

所以我们判断一个字符串是否是合法的Email的方法是：

1. 创建一个匹配Email的正则表达式；
2. 用该正则表达式去匹配用户的输入来判断是否合法。

因为正则表达式也是用字符串表示的，所以，我们要首先了解**如何用字符来描述字符**。

在正则表达式中，如果直接给出字符，就是**精确匹配**。用 `\d` 可以**匹配一个数字**，`\w` 可以**匹配一个字母或数字**，`\s` 可以**匹配一个空格（也包括Tab等空白符）**。所以：

- `'00\d'` 可以匹配 `'007'`，但无法匹配 `'00A'`；
- `'\d\d\d'` 可以匹配 `'010'`；
- `'\w\w\d'` 可以匹配 `'py3'`；
- `.` 可以匹配任意字符，所以： `'py.'` 可以匹配 `'pyc'`、`'pyo'`、`'py!'` 等等。

要匹配变长的字符，在正则表达式中，用 `*` 表示**任意个字符（包括0个）**，用 `+` 表示**至少一个字符**，用 `?` 表示**0个或1个字符**，用 `{n}` 表示**n个字符**，用 `{n,m}` 表示**n-m个字符**：

来看一个复杂的例子：`\d{3}\s+\d{3,8}`

我们来从左到右解读一下：

- `\d{3}` 表示匹配3个数字，例如 `'010'`；
- `\s+` 表示至少有一个空格，例如匹配 `' '`，`'  '` 等；
- `\d{3,8}` 表示3-8个数字，例如 `'1234567'`。

综合起来，上面的正则表达式可以匹配以任意个空格隔开的带区号的电话号码。

如果要匹配 `'010-12345'` 这样的号码呢？由于 **`'-'` 是特殊字符**，在正则表达式中，**要用 `'\'` 转义**，所以，用于匹配的正则表达式应为 `\d{3}\-\d{3,8}`。

但是，上面的方法无法匹配 `'010 - 12345'`，我们需要更复杂的匹配方式。

---

<br>


